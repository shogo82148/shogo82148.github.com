<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&family=Noto+Sans+Mono&display=swap" rel="stylesheet"> 

  
  <title>git push のときに自動的にリモートブランチを作成する設定</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  
    <link rel="stylesheet" href="https://shogo82148.github.io/css/syntax.css">
  

  
  <link href="https://shogo82148.github.io/favicon.png" rel="icon">

  
  

  <meta name="description" content="" />
  <meta name="keywords" content="">
  <meta name="author" content="ICHINOSE Shogo">

  
  <meta name="generator" content="Hugo 0.91.2" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-40R0PCLKVF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-40R0PCLKVF');
</script>


<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>

<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://shogo82148.github.io/">Shogo&#39;s Blog</a></h1>
  <h2></h2>
</hgroup>
</header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>

<ul class="subscription">
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://shogo82148.github.io/" />
    </fieldset>
  </form>

</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
  <p class="meta">Aug 11, 2022
     - 2 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/08/11/2022-08-11-git-push-auto-setup-remote/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/git/">git </a>
    
  </p>
  <h1 class="entry-title">
     git push のときに自動的にリモートブランチを作成する設定 
  </h1>
</header>


        <div class="entry-content">
          
          
          
          
          <p>Git 2.37.0 から <code>git push</code> に <code>--set-upstream origin</code> が要らなくなったという話。
出典はこちらのツイート:</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">With the newest version of Git 2.37.0, you can run just &quot;git push&quot; to push new branches. No more &quot;--set-upstream origin&quot;. Enable with:<br><br>git config --global --add --bool push.autoSetupRemote true <a href="https://t.co/1SzIqzvEFR">pic.twitter.com/1SzIqzvEFR</a></p>&mdash; James Ide (@JI) <a href="https://twitter.com/JI/status/1546948817462800384?ref_src=twsrc%5Etfw">July 12, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 
<hr>
<p>ツイッターだけだと忘れてしまうので、検索用のメモ。</p>
<p>Git のデフォルトの設定では、
<code>git push</code> のときに upstream が設定されていないと「<code>--set-upstream origin</code> をつけて再実行してくれ」と
怒られます。
v2.37.0 から、これを自動的に行うオプションが追加されたらしいです。</p>
<pre tabindex="0"><code>$ git config --global --add --bool push.autoSetupRemote true
</code></pre><p>有効化すると自動的にリモートブランチを設定してくれます。</p>
<pre tabindex="0"><code>$ git push
Total 0 (delta 0), reused 0 (delta 0), pack-reused 0
remote:
remote: Create a pull request for 'example' on GitHub by visiting:
remote:      https://github.com/shogo82148/shogo82148.github.com/pull/new/example
remote:
To ssh://github.com/shogo82148/shogo82148.github.com.git
 * [new branch]          example -&gt; example
branch 'example' set up to track 'origin/example'.
</code></pre><p>ちなみに <code>push.autoSetupRemote</code> を設定せずに <code>git push</code> を実行した場合、
エラーメッセージに
「<code>push.autoSetupRemote</code> オプションのヘルプを見てくれ」
という一文が追加されたようです。
設定名を教えてくれるのは親切ですね。</p>
<pre tabindex="0"><code>$ git push
fatal: The current branch example has no upstream branch.
To push the current branch and set the remote as upstream, use

    git push --set-upstream origin example

To have this happen automatically for branches without a tracking
upstream, see 'push.autoSetupRemote' in 'git help config'.
</code></pre><p>該当する項は以下の通りです。</p>
<blockquote>
<p>If set to &ldquo;true&rdquo; assume &ndash;set-upstream on default push when no upstream tracking exists for the current branch; this option takes effect with push.default options simple, upstream,
and current. It is useful if by default you want new branches to be pushed to the default remote (like the behavior of push.default=current) and you also want the upstream tracking
to be set. Workflows most likely to benefit from this option are simple central workflows where all branches are expected to have the same name on the remote.</p>
</blockquote>

        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn">ICHINOSE Shogo</span></span>
    
    <time>Aug 11, 2022</time>
    
    </span>
  </p>

  

  <p class="meta">
    
        <a class="basic-alignment left" href="https://shogo82148.github.io/blog/2022/06/11/2022-06-11-wild-iphone-appeared/" title="落とし物の iPhone を交番に届けた話">落とし物の iPhone を交番に届けた話</a>
    

    
      <a class="basic-alignment right" href="https://shogo82148.github.io/blog/2022/09/20/2022-09-20-aws-sdk-v2-and-googleapi-break-my-code/" title="AWS SDK v2 for Goが壊れた、Googleお前もか">AWS SDK v2 for Goが壊れた、Googleお前もか</a>
    
  </p>
  
    
      <div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
      
      
      
      if (window.location.hostname == "localhost")
          return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'shogosblog';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/shogo82148/" title="https://github.com/shogo82148/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/shogo82148/" title="https://twitter.com/shogo82148/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2023/09/14/2023-09-14-cfn-ecdsa-acm/">CloudFormationでECDSA形式のTLS証明書が取れた</a>
              </li>
            
          
            
          
            
              <li class="post">
                <a href="/blog/2023/09/10/2023-09-10-logrus-slog-hook/">log/slogにログを転送する logrus hook を書いた</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/09/08/2023-09-08-actions-checkout-v4/">actions/checkout@v4の襲撃を受けた件</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/09/04/2023-09-04-generate-random-float/">ぼくのかんがえたさいきょうの[0.0, 1.0)の乱数を得るための方法</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/09/03/2023-09-03-gyotaku/">ウェブ魚拓の創業者のインタビュー記事のウェブ魚拓</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/09/03/2023-09-03-shonanpm-no-1/">湘南.pm #1 で「趣味でPerlのビルドをしている話」をしてきた</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/08/12/2023-08-12-eytzinger-layout/">Eytzinger LayoutをGoで試してみた</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/08/09/2023-08-09-p5-aws-lambda-supports-response-streaming/">AWS::LambdaがResponse Streamingに対応しました</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/08/04/2023-08-04-context-for-slog/">Contextに埋め込んだ値をログに出力してくれるログハンドラーを書いた</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2023 ICHINOSE Shogo - <a
      href="https://shogo82148.github.io/license/">License</a> -
    <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank"
        href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
  </p>
</footer>









</body>

</html>

