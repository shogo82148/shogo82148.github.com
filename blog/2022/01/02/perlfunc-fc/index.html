<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&family=Noto+Sans+Mono&display=swap" rel="stylesheet"> 

  
  <title>Perl の fc で遊んでみる</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  
    <link rel="stylesheet" href="https://shogo82148.github.io/css/syntax.css">
  

  
  <link href="https://shogo82148.github.io/favicon.png" rel="icon">

  
  

  <meta name="description" content="" />
  <meta name="keywords" content="">
  <meta name="author" content="ICHINOSE Shogo">

  
  <meta name="generator" content="Hugo 0.120.4">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-40R0PCLKVF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-40R0PCLKVF');
</script>


<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>

<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://shogo82148.github.io/">Shogo&#39;s Blog</a></h1>
  <h2></h2>
</hgroup>
</header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>

<ul class="subscription">
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://shogo82148.github.io/" />
    </fieldset>
  </form>

</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
  <p class="meta">Jan 2, 2022
     - 3 minute read 
    

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/perl/">perl </a>
    
  </p>
  <h1 class="entry-title">
     Perl の fc で遊んでみる 
  </h1>
</header>


        <div class="entry-content">
          
          
          
          
          <p>この記事は、<a href="https://qiita.com/advent-calendar/2021/perl">Perl Advent Calendar 2021</a> の穴埋め用の予備記事です。
当日まで担当者が決まらない日が何日もあってドキドキしましたが、いやー、なんとか埋まりましたね。
記事を投稿してくださった皆様ありがとうございました。</p>
<p>さて、今年は万が一枠が埋まらなかった場合に備えて下準備をしておきました。</p>
<ul>
<li><a href="https://shogo82148.github.io/blog/2021/12/09/perl-try-catch/">Perl 5.34.0 の try-catch を触ってみる</a></li>
<li><a href="https://shogo82148.github.io/blog/2021/12/10/perl-defer/">Perl 5.35.4 の defer を先取り</a></li>
<li><a href="https://shogo82148.github.io/blog/2021/12/11/perl-iterating-over-multiple-values/">Perl 5.35.5 の iterating over multiple values at a time を先取り</a></li>
<li><a href="https://shogo82148.github.io/blog/2021/12/24/perl-bitwise-operator/">Perl の文字列用ビット操作演算子を使ってみる</a></li>
</ul>
<p>この辺の記事たちですね。
カレンダーが埋まる見込みが立ったので放置していたのですが、実は調査だけしていたネタがひとつ残っています。
2022年のネタにしても良いんですが、どうせその頃には忘れているので今ここで供養してしまいましょう。</p>
<hr>
<p>というわけで、今回触ってみたのは <a href="https://perldoc.perl.org/perlfunc#fc-EXPR"><code>fc</code> 関数</a> です。</p>
<p>特に断りのない限り 2021-12-24 現在の最新安定版 Perl 5.34.0 で動作確認をしています。</p>
<h2 id="case-folding">Case-Folding</h2>
<p><a href="https://perldoc.perl.org/perlfunc#fc-EXPR"><code>fc</code> 関数</a> は Case-Folding を行う関数です。
そもそも Case-Folding って何？って話なんですが、日本語に対応する概念が存在しないので和訳が難しい・・・。
大雑把にいうと <strong>「大文字・小文字の正規化」</strong> をおこなう関数です。</p>
<p>例えばこのブログから &ldquo;Case-Folding&rdquo; という文字列を検索したくなったとしましょう。
表記ゆれがあるかもしれないので、大文字と小文字の違いは無視したい、
つまり &ldquo;case-folding&rdquo; や &ldquo;CASE-FOLDING&rdquo; も対象にしたいということはよくあると思います。</p>
<p>こんなときこそ <code>fc</code> 関数の出番です。
<code>fc</code> 関数を使うには <code>feature</code> プラグマで明示的に有効化が必要です。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-perl" data-lang="perl"><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">utf8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">warnings</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">strict</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">feature</span> <span class="sx">qw(say fc)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="n">fc</span> <span class="s">&#34;Case-Folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="n">fc</span> <span class="s">&#34;case-folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="n">fc</span> <span class="s">&#34;CASE-FOLDING&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">;</span>
</span></span></code></pre></div><p>出力:</p>
<pre tabindex="0"><code>case-folding
case-folding
case-folding
</code></pre><p>出力の通り <code>fc</code> 関数を通した結果はすべて &ldquo;case-folding&rdquo; になります。
あとは通常の文字列比較 <code>eq</code> 演算子を使って比較すれば、大文字小文字を無視した検索を実現できます。</p>
<p>検索対象に対しては事前に Case-Folding してインデックスを作成しておくことができるので、
そういった場合に役立ちそうです。
実際の検索は単純な文字列比較になるので、検索の高速化が期待できます。</p>
<h2 id="大文字化や小文字化と何が違うの">大文字化や小文字化と何が違うの？</h2>
<p>ここまで読んだ皆さんは疑問に思うことでしょう。
「大文字化・小文字化と何が違うの？そこになんの違いもありゃしねぇだろうが」</p>
<p><strong>違うのだ!!!</strong></p>
<p>例えば先の例 &ldquo;Case-Folding&rdquo; では 大文字化 (<code>uc</code> 関数) や小文字化 (<code>lc</code> 関数)でも
「大文字小文字の標準化」という目的は達成できそうです。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-perl" data-lang="perl"><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">utf8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">warnings</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">strict</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">feature</span> <span class="sx">qw(say)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="s">&#34;lc:&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">lc</span> <span class="s">&#34;Case-Folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">lc</span> <span class="s">&#34;case-folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">lc</span> <span class="s">&#34;CASE-FOLDING&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="s">&#34;uc:&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">uc</span> <span class="s">&#34;Case-Folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">uc</span> <span class="s">&#34;case-folding&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">say</span> <span class="nb">uc</span> <span class="s">&#34;CASE-FOLDING&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="mi">1</span><span class="p">;</span>
</span></span></code></pre></div><p>出力:</p>
<pre tabindex="0"><code>lc:
case-folding
case-folding
case-folding

uc:
CASE-FOLDING
CASE-FOLDING
CASE-FOLDING
</code></pre><hr>
<p>具体的な例外のひとつが <a href="https://ja.wikipedia.org/wiki/%C3%9F">ß エスツェット</a> です。
(というか他にあるの？)
Unicode には SHARP S (尖ったS)という名称で登録されています。</p>
<ul>
<li>ẞ
<ul>
<li>符号位置: U+1E9E</li>
<li>名称: LATIN CAPITAL LETTER SHARP S</li>
<li>収録バージョン: Unicode 5.1.0 (March 2008)</li>
</ul>
</li>
<li>ß:
<ul>
<li>符号位置: U+00DF</li>
<li>名称: LATIN SMALL LETTER SHARP S</li>
<li>収録バージョン: Unicode 1.1.0 (June, 1993)</li>
</ul>
</li>
</ul>
<p>大文字と小文字とで収録時期が15年も離れている点が面白いですね。
なぜこんなことになっているかというと、実は <strong>大文字のエスツェットは最近まで文字として認められていなかった</strong> のです。
ドイツ正書法協議会(がどういう役割を担っているのかよく知らないんだけど・・・)が正式に取り入れたのが 2017年のこと。</p>
<p>大文字のエスツェットが使われるようになる前はどうしていたかというと、代用として &ldquo;SS&rdquo; を使っていたらしいです。
ただこれには問題があり、例えば &ldquo;MASSE&rdquo; という単語があった場合、もとが &ldquo;Masse&rdquo;(塊、群衆) だったのか &ldquo;Maße&rdquo;(大きさ、範囲) だったのかわかりません。
またややこしいことに、Unicode が普及する前は小文字のエスツェットも使えない環境があったため &ldquo;Masse&rdquo; と綴る場合もあったそうです。
詳しくは <a href="https://ja.wikipedia.org/wiki/%C3%9F#%E5%A4%A7%E6%96%87%E5%AD%97">Wikipedia を参照</a>。</p>
<p>大文字のエスツェットを認めれば &ldquo;MAẞE&rdquo; と &ldquo;MASSE&rdquo; の区別が付くわけですが、
こんな歴史的な経緯から「&ldquo;Maße&quot;を大文字小文字を無視して検索したい」といった場合、&ldquo;MAẞE&rdquo;, &ldquo;Masse&rdquo;, &ldquo;MASSE&rdquo; も対象になります。
嘘だと思う人はお使いのブラウザで &ldquo;Maße&rdquo; や &ldquo;Masse&rdquo; でこの記事をページ内検索してみてください。
Chrome 96 ではすべてマッチしました。
(Safari は &ldquo;ss&rdquo; を検索すると &ldquo;ß&rdquo; にマッチするけど、&ldquo;ß&rdquo; を検索すると &ldquo;ss&rdquo; にはマッチしない・・・よくわからない)</p>
<p>この歴史的経緯のためなのかよく知りませんが、エスツェットの大文字化・小文字化はちょっと奇妙な動作をします。
&ldquo;Maße&rdquo; を表すいろんな表記を <code>lc</code>, <code>uc</code>, <code>fc</code> 関数を使って変換するこんなプログラムを書いてみました。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-perl" data-lang="perl"><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">utf8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">warnings</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">strict</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">Encode</span> <span class="sx">qw(encode_utf8 decode_utf8)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nn">feature</span> <span class="sx">qw(say)</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">sub</span> <span class="nf">show</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$sub</span><span class="p">)</span> <span class="o">=</span> <span class="nv">@_</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">my</span> <span class="nv">@masse</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># 小文字のエスツェット (U+00DF LATIN SMALL LETTER SHARP S)</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#39;Maße&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># 大文字のエスツェット (U+1E9E LATIN CAPITAL LETTER SHARP S)</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#39;MAẞE&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1"># エスツェットが使えない環境での代用表記</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#39;Masse&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#39;MASSE&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="k">my</span> <span class="nv">$s</span> <span class="p">(</span><span class="nv">@masse</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">say</span> <span class="n">encode_utf8</span> <span class="s">&#34;$name(&#39;$s&#39;) -&gt; &#39;&#34;</span> <span class="o">.</span> <span class="nv">$sub</span><span class="o">-&gt;</span><span class="p">(</span><span class="nv">$s</span><span class="p">)</span> <span class="o">.</span> <span class="s">&#34;&#39;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">say</span> <span class="s">&#34;&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">show</span><span class="p">(</span><span class="s">&#39;lc&#39;</span><span class="p">,</span> <span class="o">\&amp;</span><span class="nn">CORE::</span><span class="nb">lc</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">show</span><span class="p">(</span><span class="s">&#39;uc&#39;</span><span class="p">,</span> <span class="o">\&amp;</span><span class="nn">CORE::</span><span class="nb">uc</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">show</span><span class="p">(</span><span class="s">&#39;fc&#39;</span><span class="p">,</span> <span class="o">\&amp;</span><span class="nn">CORE::</span><span class="n">fc</span><span class="p">);</span>
</span></span></code></pre></div><p>出力:</p>
<pre tabindex="0"><code>lc(&#39;Maße&#39;) -&gt; &#39;maße&#39;
lc(&#39;MAẞE&#39;) -&gt; &#39;maße&#39;
lc(&#39;Masse&#39;) -&gt; &#39;masse&#39;
lc(&#39;MASSE&#39;) -&gt; &#39;masse&#39;

uc(&#39;Maße&#39;) -&gt; &#39;MASSE&#39;
uc(&#39;MAẞE&#39;) -&gt; &#39;MAẞE&#39;
uc(&#39;Masse&#39;) -&gt; &#39;MASSE&#39;
uc(&#39;MASSE&#39;) -&gt; &#39;MASSE&#39;

fc(&#39;Maße&#39;) -&gt; &#39;masse&#39;
fc(&#39;MAẞE&#39;) -&gt; &#39;masse&#39;
fc(&#39;Masse&#39;) -&gt; &#39;masse&#39;
fc(&#39;MASSE&#39;) -&gt; &#39;masse&#39;
</code></pre><p>注目すべきなのは <strong><code>uc('Maße')</code> が &ldquo;MAẞE&rdquo; ではなく &ldquo;MASSE&rdquo; になる点</strong> ですね。
<code>uc('MAẞE')</code> は &ldquo;MAẞE&rdquo; になるので、大文字小文字の標準化には使えません。
<code>lc('MAẞE')</code> と <code>lc('Maße')</code> は良さそうですが、 &ldquo;Masse&rdquo; や &ldquo;MASSE&rdquo; とは異なる結果になります。</p>
<p><code>fc</code> 関数であれば &ldquo;Maße&rdquo;, &ldquo;MAẞE&rdquo;, &ldquo;Masse&rdquo;, &ldquo;MASSE&rdquo; がすべて &ldquo;masse&rdquo; に標準化されるので、
無事「&ldquo;Maße&quot;を大文字小文字を無視して検索したい」という要件を満たすことができるわけです。</p>
<h2 id="go言語では">Go言語では？</h2>
<p>こんな記事を書いておいてなんですが、普段 Perl は使わず Go を書くほうが多いんですよね。
そんなわけで Go はどうなるのかな？と試してみたら以下のような結果になりました (go1.17.5)。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;regexp&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ぜんぶ true になってほしい
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">strings</span><span class="p">.</span><span class="nf">EqualFold</span><span class="p">(</span><span class="s">&#34;Maße&#34;</span><span class="p">,</span> <span class="s">&#34;Masse&#34;</span><span class="p">))</span>       <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">strings</span><span class="p">.</span><span class="nf">EqualFold</span><span class="p">(</span><span class="s">&#34;Maße&#34;</span><span class="p">,</span> <span class="s">&#34;MAẞE&#34;</span><span class="p">))</span>        <span class="c1">// true
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">regexp</span><span class="p">.</span><span class="nf">MatchString</span><span class="p">(</span><span class="s">&#34;(?i:Maße)&#34;</span><span class="p">,</span> <span class="s">&#34;Masse&#34;</span><span class="p">))</span> <span class="c1">// false &lt;nil&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">regexp</span><span class="p">.</span><span class="nf">MatchString</span><span class="p">(</span><span class="s">&#34;(?i:Maße)&#34;</span><span class="p">,</span> <span class="s">&#34;MAẞE&#34;</span><span class="p">))</span>  <span class="c1">// true &lt;nil&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Perl では maße になる
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">strings</span><span class="p">.</span><span class="nf">ToLower</span><span class="p">(</span><span class="s">&#34;MAẞE&#34;</span><span class="p">))</span> <span class="c1">// maße
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Perl では MASSE になる
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">strings</span><span class="p">.</span><span class="nf">ToUpper</span><span class="p">(</span><span class="s">&#34;Maße&#34;</span><span class="p">))</span> <span class="c1">// MAßE
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><ul>
<li><a href="https://go.dev/play/p/xdNtqksKqxj">https://go.dev/play/p/xdNtqksKqxj</a></li>
</ul>
<p>前節で説明したように &ldquo;Maße&rdquo; を大文字小文字を無視して比較した場合、Unicode の定義では &ldquo;Masse&rdquo; にもマッチするので、
<code>strings.EqualFold(&quot;Maße&quot;, &quot;Masse&quot;)</code> は <code>true</code> になって欲しいところです。
しかし実際には <code>false</code> になってしまいました。
<code>strings.ToUpper(&quot;Maße&quot;)</code> の結果も Perl での結果 &ldquo;MASSE&rdquo; とは異なります。</p>
<p>これはバグ？意図的な挙動？ドイツ語に詳しい人教えて・・・</p>
<h2 id="まとめ">まとめ</h2>
<p><code>fc</code> 関数の話をしていたんですが、エスツェットにすべて持っていかれました。
ドイツ語を扱うかもしれないプログラムを書くときは気をつけましょう。</p>
<ul>
<li>大文字小文字を無視して比較した場合 &ldquo;Maße&rdquo;, &ldquo;MAẞE&rdquo;, &ldquo;Masse&rdquo;, &ldquo;MASSE&rdquo; はすべて等しい</li>
<li>Unicode の定義では 小文字のエスツェット &ldquo;ß&rdquo; の大文字は &ldquo;SS&rdquo;, 大文字のエスツェット &ldquo;ẞ&rdquo; の小文字は &ldquo;ß&rdquo;</li>
<li>このチャート見ると良いらしいです <a href="https://www.unicode.org/charts/case/">https://www.unicode.org/charts/case/</a></li>
</ul>
<h2 id="参考">参考</h2>
<ul>
<li><a href="https://perldoc.perl.org/perlfunc#fc-EXPR">fc EXPR</a></li>
<li><a href="https://www.unicode.org/charts/case/">Unicode Case Charts</a></li>
<li><a href="https://ja.wikipedia.org/wiki/%C3%9F">ß - Wikipedia</a></li>
</ul>

        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn">ICHINOSE Shogo</span></span>
    
    <time>Jan 2, 2022</time>
    
    </span>
  </p>

  

  <p class="meta">
    
        <a class="basic-alignment left" href="https://shogo82148.github.io/blog/2021/12/30/polyglot-of-bash-and-powershell/" title="Bash と PowerShell の Polyglot を作る">Bash と PowerShell の Polyglot を作る</a>
    

    
      <a class="basic-alignment right" href="https://shogo82148.github.io/blog/2022/01/02/deploy-aws-sam-with-github-actions/" title="GitHub Actions を使って AWS SAM をデプロイしてみる">GitHub Actions を使って AWS SAM をデプロイしてみる</a>
    
  </p>
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/shogo82148/" title="https://github.com/shogo82148/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/shogo82148/" title="https://twitter.com/shogo82148/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2025/03/19/mecab-python-module-is-released/">MeCabのPython BindingをPyPIに上げた</a>
              </li>
            
          
            
          
            
              <li class="post">
                <a href="/blog/2024/12/10/perl-iterating-over-multiple-values-is-no-longer-experimental/">Perl 5.40からiterating over multiple values at a time機能が安定版になりました</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/12/09/perl-requires-use-utf8/">Perl 5.41から、UTF-8で書かれたソースコードにはuse utf8が必須になります</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/12/05/perl-logical-xor-operator/">Perl 5.40に真偽値の排他的論理和を表す新しい演算子が導入されました</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/12/04/try-feature-is-no-longer-experimental/">Perl 5.40でtry/catch機能が安定版になりました</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/11/11/do-not-use-left-join-with-for-update/">LEFT JOINとFOR UPDATEを同時に使うのはやめよう</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/08/30/p5-aws-lambda-is-available-on-ap-southeast-5/">AWS::LambdaがAWS Asia Pacific (Malaysia) Regionで利用可能になりました</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/08/13/structured-field-values/">Structured Field Values のパーサーを書いた</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/08/13/denoland-dnt-cannot-find-error-options/">denoland/dntがerror TS2304: Cannot find name &#39;ErrorOptions&#39;で失敗する</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2025 ICHINOSE Shogo - <a
      href="https://shogo82148.github.io/license/">License</a> -
    <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank"
        href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
  </p>
</footer>









</body>

</html>

