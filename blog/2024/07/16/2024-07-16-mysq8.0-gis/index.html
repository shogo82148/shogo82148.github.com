<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&family=Noto+Sans+Mono&display=swap" rel="stylesheet"> 

  
  <title>MySQL8.0で近傍検索</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  
    <link rel="stylesheet" href="https://shogo82148.github.io/css/syntax.css">
  

  
  <link href="https://shogo82148.github.io/favicon.png" rel="icon">

  
  

  <meta name="description" content="" />
  <meta name="keywords" content="">
  <meta name="author" content="ICHINOSE Shogo">

  
  <meta name="generator" content="Hugo 0.120.4">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-40R0PCLKVF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-40R0PCLKVF');
</script>


<script>
MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>

<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://shogo82148.github.io/">Shogo&#39;s Blog</a></h1>
  <h2></h2>
</hgroup>
</header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>

<ul class="subscription">
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://shogo82148.github.io/" />
    </fieldset>
  </form>

</nav>


<div id="main">
  <div id="content">
    <div>
      <article class="hentry" role="article">

        
        

<header>
  <p class="meta">Jul 16, 2024
     - 2 minute read 
    

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/mysql/">mysql </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2024/07/16/2024-07-16-mysq8.0-gis/">MySQL8.0で近傍検索</a>
  </h1>
</header>


        <div class="entry-content">
          
          
          
          
          <p>「<a href="https://shogo82148.github.io/blog/2017/03/28/database-gis/">Redis、PostgreSQL、MySQLで近傍検索</a>」を公開した当時は、
MySQL 5.7 で検証を行いました。
「MySQL 8.0 ではGIS関連も強化されているぞ！」という話を聞いていたので、MySQL 8.0でも検証してみます。
（MySQL 8.0リリースから何年経ってるんだよというツッコミは置いておく）</p>
<h2 id="検証環境">検証環境</h2>
<p>検証環境はDocker上で起動しました。
バージョンは2024-07-16時点で8.0系列最新の8.0.38です。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plain" data-lang="plain"><span class="line"><span class="cl">mysql&gt; SELECT VERSION();
</span></span><span class="line"><span class="cl">+-----------+
</span></span><span class="line"><span class="cl">| VERSION() |
</span></span><span class="line"><span class="cl">+-----------+
</span></span><span class="line"><span class="cl">| 8.0.38    |
</span></span><span class="line"><span class="cl">+-----------+
</span></span><span class="line"><span class="cl">1 row in set (0.01 sec)
</span></span></code></pre></div><p>最新LTSの8.4.1がリリースされていますが、Amazon RDSでは未サポートです。
マネージドサービスを利用したいので、ひとまず8.0で検証を行います。</p>
<h2 id="テーブルの準備">テーブルの準備</h2>
<p>スキーマ定義でSRIDを指定できるようになりました。
何が嬉しいかというと MySQL が「地球は丸い」ということを理解してくれます！</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">test</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">USE</span><span class="w"> </span><span class="n">test</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="o">`</span><span class="n">geotable</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="w">   </span><span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">`</span><span class="n">name</span><span class="o">`</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="w"> </span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="o">`</span><span class="n">geom</span><span class="o">`</span><span class="w"> </span><span class="n">POINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="n">SRID</span><span class="w"> </span><span class="mi">4326</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">id</span><span class="o">`</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">SPATIAL</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="o">`</span><span class="n">geom</span><span class="o">`</span><span class="w"> </span><span class="p">(</span><span class="o">`</span><span class="n">geom</span><span class="o">`</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8mb4</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>SRIDは省略可能ですが、インデックスを利用するためには必須です。
忘れずに指定しましょう。</p>
<h2 id="データの準備">データの準備</h2>
<p>「<a href="https://shogo82148.github.io/blog/2017/03/28/database-gis/">Redis、PostgreSQL、MySQLで近傍検索</a>」したときと同じデータを挿入します。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">geotable</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;上野駅&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.713768 139.777254)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;西郷隆盛像&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.711846 139.774029)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;上野の森美術館&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.712737 139.774744)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;不忍池弁財天&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.712351 139.770872)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;野口英世博士像&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.716293 139.775696)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;国立西洋美術館&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.71542 139.775803)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;国立科学博物館&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.716319 139.776544)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;東京都美術館&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.717186 139.772776)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;東京国立博物館&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.718883 139.776462)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;花やしき&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.71528 139.794547)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">(</span><span class="s1">&#39;雷門&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.710635 139.792692)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">));</span><span class="w">
</span></span></span></code></pre></div><p>注意点は2つ。</p>
<p>1つ目は挿入時にもSRIDの指定が必要なこと。省略するとデフォルトの0とみなされてしまいます。
スキーマ定義と挿入データのSRIDが同じでないとエラーが発生するので注意です。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">geotable</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;上野駅&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(139.777254 35.713768)&#39;</span><span class="p">));</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plain" data-lang="plain"><span class="line"><span class="cl">ERROR 3643 (HY000): The SRID of the geometry does not match the SRID of the column &#39;geom&#39;. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.
</span></span></code></pre></div><p>2つ目は緯度と経度の順番。PostgreSQLでは「経度、緯度」の順番ですが、MySQLは「緯度、経度」の順番になります。
逆にすると緯度の範囲がおかしいと怒られます（日本の座標の場合）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">geotable</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;上野駅&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(139.777254 35.713768)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">));</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plain" data-lang="plain"><span class="line"><span class="cl">ERROR 3617 (22S03): Latitude 139.777254 is out of range in function st_geomfromtext. It must be within [-90.000000, 90.000000].
</span></span></code></pre></div><h2 id="geohashの計算">Geohashの計算</h2>
<p>Geohashの計算には引き続き <code>ST_GeoHash</code> 関数を使用できます。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geom</span><span class="p">),</span><span class="w"> </span><span class="n">ST_GeoHash</span><span class="p">(</span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">geotable</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plain" data-lang="plain"><span class="line"><span class="cl">mysql&gt; SELECT name, ST_AsText(geom), ST_GeoHash(geom, 11) FROM geotable;
</span></span><span class="line"><span class="cl">+-----------------------+-----------------------------+----------------------+
</span></span><span class="line"><span class="cl">| name                  | ST_AsText(geom)             | ST_GeoHash(geom, 11) |
</span></span><span class="line"><span class="cl">+-----------------------+-----------------------------+----------------------+
</span></span><span class="line"><span class="cl">| 上野駅                | POINT(35.713768 139.777254) | xn77htqxy0f          |
</span></span><span class="line"><span class="cl">| 西郷隆盛像            | POINT(35.711846 139.774029) | xn77hthkdfw          |
</span></span><span class="line"><span class="cl">| 上野の森美術館        | POINT(35.712737 139.774744) | xn77htkcg8e          |
</span></span><span class="line"><span class="cl">| 不忍池弁財天          | POINT(35.712351 139.770872) | xn77ht4p92s          |
</span></span><span class="line"><span class="cl">| 野口英世博士像        | POINT(35.716293 139.775696) | xn77htvw3z9          |
</span></span><span class="line"><span class="cl">| 国立西洋美術館        | POINT(35.71542 139.775803)  | xn77htv9kkb          |
</span></span><span class="line"><span class="cl">| 国立科学博物館        | POINT(35.716319 139.776544) | xn77htynts3          |
</span></span><span class="line"><span class="cl">| 東京都美術館          | POINT(35.717186 139.772776) | xn77hw57twp          |
</span></span><span class="line"><span class="cl">| 東京国立博物館        | POINT(35.718883 139.776462) | xn77hwqjedk          |
</span></span><span class="line"><span class="cl">| 花やしき              | POINT(35.71528 139.794547)  | xn77jjg2949          |
</span></span><span class="line"><span class="cl">| 雷門                  | POINT(35.710635 139.792692) | xn77jhcvtbf          |
</span></span><span class="line"><span class="cl">+-----------------------+-----------------------------+----------------------+
</span></span><span class="line"><span class="cl">11 rows in set (0.00 sec)
</span></span></code></pre></div><h2 id="近傍検索">近傍検索</h2>
<p>「<a href="https://shogo82148.github.io/blog/2017/03/28/database-gis/">Redis、PostgreSQL、MySQLで近傍検索</a>」では
「矩形の範囲指定で大雑把に絞り込んだあとで <code>ST_Distance_Sphere</code> を使って詳細に絞り込む」という面倒なワークアラウンドを使っていました。</p>
<p>しかし MySQL 8.0 では <code>ST_Buffer</code> が「地球は丸い」ことを考慮してくれるので、ワークアラウンドが不要になります！</p>
<p>同様に <code>ST_Distance</code> も「地球は丸い」という事実を認識してくれるようになりました！
<code>ST_Distance</code> と <code>ST_Distance_Sphere</code> とでは基準となる地理測地系が違うので、若干異なった数値を返します。
複数の地理測地系が混在すると混乱の元になるので、 <code>ST_Distance</code> に統一したほうが良いと思います。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">SET</span><span class="w"> </span><span class="o">@</span><span class="n">ueno</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ST_GeomFromText</span><span class="p">(</span><span class="s1">&#39;POINT(35.713768 139.777254)&#39;</span><span class="p">,</span><span class="mi">4326</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">SELECT</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">name</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ST_AsText</span><span class="p">(</span><span class="n">geom</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">ST_Distance</span><span class="p">(</span><span class="o">@</span><span class="n">ueno</span><span class="p">,</span><span class="w"> </span><span class="n">geom</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">dist</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">geotable</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">ST_Within</span><span class="p">(</span><span class="n">geom</span><span class="p">,</span><span class="w"> </span><span class="n">ST_Buffer</span><span class="p">(</span><span class="o">@</span><span class="n">ueno</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">dist</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h2 id="まとめ">まとめ</h2>
<p>MySQL 8.0 での近傍検索を検証してみました。
MySQL 5.7 で必要だったワークアラウンドが不要になって、簡単にクエリーが書けます。</p>
<blockquote>
<p>新しいガイドが舞い降りて<br>
MySQLのGISが輝く<br>
近接検索の魔法を解き<br>
地図の世界が広がるよ<br>
<code>ST_Buffer</code> と <code>ST_Distance</code><br>
データの旅に出かけよう
🐇✨</p>
<p>by <a href="https://coderabbit.ai/">CodeRabbit</a></p>
</blockquote>
<h2 id="参考">参考</h2>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/ja/spatial-type-overview.html">11.4.1 空間データ型 - MySQL 8.0 リファレンスマニュアル</a>(<a href="https://megalodon.jp/2024-0716-0714-12/https://dev.mysql.com:443/doc/refman/8.0/ja/spatial-type-overview.html">魚拓</a>)</li>
<li><a href="https://speakerdeck.com/yoshiakiyamasaki/mysql-gis-foss4g-tokai-2023">MySQLで処理するGIS〜地球が丸いことを覚えたMySQL〜</a></li>
<li><a href="https://qiita.com/onunu/items/59ef2c050b35773ced0d">MySQLでGISデータを扱う</a></li>
<li><a href="https://shogo82148.github.io/blog/2017/03/28/database-gis/">Redis、PostgreSQL、MySQLで近傍検索</a></li>
</ul>

        </div>
        

<footer>
  <p class="meta">
    <span class="byline author vcard">Posted by <span class="fn">ICHINOSE Shogo</span></span>
    
    <time>Jul 16, 2024</time>
    
    </span>
  </p>

  

  <p class="meta">
    
        <a class="basic-alignment left" href="https://shogo82148.github.io/blog/2024/06/30/2024-06-30-try-artifact-attestations/" title="GitHub Artifact Attestations を試してみた">GitHub Artifact Attestations を試してみた</a>
    

    
  </p>
  
</footer>

      </article>
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/shogo82148/" title="https://github.com/shogo82148/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/shogo82148/" title="https://twitter.com/shogo82148/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2024/07/16/2024-07-16-mysq8.0-gis/">MySQL8.0で近傍検索</a>
              </li>
            
          
            
          
            
              <li class="post">
                <a href="/blog/2024/06/30/2024-06-30-try-artifact-attestations/">GitHub Artifact Attestations を試してみた</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/06/25/2024-06-25-go-retry-v2/">go-retry v2 リリースのお知らせ</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/06/23/2024-06-23-publish-to-npm-and-jsr/">npmとjsrにパッケージを公開してみた (認証バッジ付)</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/06/22/2024-06-22-limit-concurrency-in-typescript/">TypeScriptで同時実行数を制限しながら並行実行する</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/03/27/2024-03-27-use-cryptographically-secure-random/">鍵生成には暗号論的に安全な乱数を使おう</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/03/20/2024-03-20-go-mysql-pool/">GoでMySQLを使ったテストを書くときにつかうユーティリティーライブラリを作った</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/03/12/2024-03-12-use-mysql-new-connector-and-sql-open-db/">GoのMySQLドライバーを使うときはmysql.NewConnectorとsql.OpenDBを使おう</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2024/03/11/2024-03-11-before-connect-of-mysql-driver/">GoのMySQLドライバーにBeforeConnectが追加されました</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>

  </div>
</div>

<footer role="contentinfo">
  <p>Copyright &copy; 2024 ICHINOSE Shogo - <a
      href="https://shogo82148.github.io/license/">License</a> -
    <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank"
        href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
  </p>
</footer>









</body>

</html>

