<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: github | Shogo's Blog]]></title>
  <link href="https://shogo82148.github.io/blog/categories/github/atom.xml" rel="self"/>
  <link href="https://shogo82148.github.io/"/>
  <updated>2017-12-06T05:46:21+09:00</updated>
  <id>https://shogo82148.github.io/</id>
  <author>
    <name><![CDATA[Shogo Ichinose]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[GithubのIRCフックがgollumをサポートしました]]></title>
    <link href="https://shogo82148.github.io/blog/2014/11/15/github-irc-hook-supports-gollum/"/>
    <updated>2014-11-15T22:24:00+09:00</updated>
    <id>https://shogo82148.github.io/blog/2014/11/15/github-irc-hook-supports-gollum</id>
    <content type="html"><![CDATA[<p>GithubのIRCフックがgollum(Wikiページの変更通知)をサポートしました。</p>

<!-- More -->


<p>最近ぴーちんさんがWikiの編集業に精を出していて、編集の度にIRCに「変更しました！」とポストしてました。
「自動で通知してくれるとうれしいよねー」と話していたら、ある秘密を教えてもらいました。</p>

<pre><code class="plain">acidlemon: githubのwiki編集のIRC通知、ここに秘密が隠されています https://github.com/github/github-services/blob/master/lib/services/irc.rb
acidlemon: Blameおして黄色い変なアイコンを調べれば何をすれば良いかわかるはず
</code></pre>

<p>おや・・・何処かで見た黄色いアイコンが・・・</p>

<p>真似して<a href="https://github.com/github/github-services">github-services</a>に<a href="https://github.com/github/github-services/pull/970">プルリクエスト</a>をだしてマージしてもらった。
で、さっき<a href="https://api.github.com/hooks">対応イベント一覧</a>見てたらgollum増えてる！
マージのときのコメントで「a few days」と言われたので2,3日かかるのかな？と思ってたけど、24時間経たないうちに反映されたよ！
早い！！</p>

<p>さっそく<a href="https://github.com/Songmu/Github-Hooks-Manager">Github::Hooks::Manager</a>を使って設定しておきました。
「[project-name] shogo82148 edited wiki page hogehoge」みたいに編集されたページが通知されます。</p>

<p>便利！！！</p>

<h2>SEE ALSO</h2>

<ul>
<li><a href="https://github.com/github/github-services">github-services</a></li>
<li><a href="http://soh335.hatenablog.com/entry/2013/07/10/100354">github の irc hook に幾つかの event type が追加されました - @soh335 memo</a></li>
<li><a href="http://www.songmu.jp/riji/entry/2013-12-05-github-hooks.html">GithubのHookについてのまとめとソリューション - おそらくはそれさえも平凡な日々</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[githubのタブサイズを変えるChrome拡張を作った]]></title>
    <link href="https://shogo82148.github.io/blog/2014/02/10/github-tab-change/"/>
    <updated>2014-02-10T08:01:00+09:00</updated>
    <id>https://shogo82148.github.io/blog/2014/02/10/github-tab-change</id>
    <content type="html"><![CDATA[<p>にゃんぱすー。
最近 C# のコードを見ることが多くなってきました。
開発はVSやMonoDevelop等のIDEを使っているのですが、
diffの確認程度ならgithub上で行っています。
しかし、github上の表示は崩れて非常に読みづらい・・・。</p>

<!-- More -->


<p>githubのコードプレビューはタブストップが8文字幅で表示されます。
しかし、有名ドコロのIDEはデフォルトがタブインデント、4文字幅で設定されているので、
どうしても表示が狂ってしまいます。
タブインデントではなくスペースインデントを使えば解決☆
なのですが、スペースインデントの中にタブインデントを混入する場合が多々あるので、僕は疲れました・・・。
混在したときのコードなんて、読めたものじゃないですよ。</p>

<p>そこで、githubのタブサイズを変更する Chrome拡張を作ってみました。
ユーザスタイルシートでもできるんですが、まあ、勉強を兼ねて。</p>

<ul>
<li><a href="https://chrome.google.com/webstore/detail/github-tab-change/ljioaacdegnnenakodladamafjodehnd">GithubTabChange</a></li>
</ul>


<p>インストール後、github上のレポジトリを開くと≡みたいなマークがURLの横に表示されます。
それをクリックでタブサイズの設定変更が可能です。
githubのプレビューの一斉設定だけでなく、
レポジトリ単位でタブサイズを切り替えることができます。</p>

<p>アイコンとか設定画面のデザインとかちゃんとしたものを作る気力はなかったので、
皆さんのprをお待ちしております。</p>

<ul>
<li><a href="https://github.com/shogo82148/GithubTabChange">GithubTabChange on github</a></li>
</ul>


<p>(これ作ってるときに、githubのHTMLソースの中にtab-size-8というクラスを見つけたのですが、実はどこかに隠し機能としてあるんですかね？)</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[GitHubにブログを設置してみたよ]]></title>
    <link href="https://shogo82148.github.io/blog/2012/03/21/test/"/>
    <updated>2012-03-21T19:29:00+09:00</updated>
    <id>https://shogo82148.github.io/blog/2012/03/21/test</id>
    <content type="html"><![CDATA[<p>TLにGitHubでブログのホスティングしている人がいたので、
「<a href="http://mattn.kaoriya.net/software/lang/ruby/20111017205717.htm">githubとjekyllとoctopressで作る簡単でモダンなブログ</a>」
を参考に作ってみましたよ。</p>

<!-- more -->


<h2>RVM のインストール</h2>

<p>自分の環境には Ruby 1.9.2.2 が入っているんだけど、Ocropressでは Ruby 1.9.2 が必要らしい。
そのままでもいけるかと思ったけど、怒られた。
rake コマンドを全部 bundle exec rake に置き換えると一応実行はできるけど、なんだか警告がでる。</p>

<p>こういう時は複数のバージョンの Ruby を切り替えて管理できる、 rvm というのを使うといいらしい。
公式サイトの「<a href="http://octopress.org/docs/setup/rvm/">Installing RVM</a>」通りにコマンドを打てばOK。</p>

<pre><code class="bash">bash -s stable &lt; &lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)
echo '[[ -s "$HOME/.rvm/scripts/rvm" ]] &amp;&amp; . "$HOME/.rvm/scripts/rvm" # Load RVM function' &gt;&gt; ~/.bash_profile
source ~/.bash_profile
rvm install 1.9.2 &amp;&amp; rvm use 1.9.2
rvm rubygems latest
</code></pre>

<h2>Octopress のインストール</h2>

<p>あとはgitでクローンして、インストールコマンドを叩くだけ。</p>

<pre><code class="bash">git clone git://github.com/imathis/octopress.git octopress
cd octopress

gem install bundler
bundle install

rake install
rake setup_github_pages
</code></pre>

<p>最後のコマンドは GitHub Pages に公開するためのもの。公開用のレポジトリを聞いてくるので予め登録しておこう。</p>

<h2>rubypythonの検索パスを書き換える</h2>

<p>markdown記法はソースコードの表示にも対応しているんだけど、自分の環境では、ソースコードの代わりに</p>

<pre><code>Liquid error: undefined method `Py_IsInitialized’ for RubyPython::Python:Module
</code></pre>

<p>と表示されてしまった。</p>

<p>ソースコードを追って見るとソースコードの表示には <a href="http://rubypython.rubyforge.org/">rubypython</a> という
Ruby から Python のコードを実行する gem が使われているみたい。
Python コードの実行に本物の Python を使っているんだけど、その Python の検索機能が貧弱で rubypython が想定していない場所に置いてあるとエラーを吐くみたい。</p>

<p>僕の環境の場合、 ~/.rvm/gems/ruby-1.9.2-p318/gems/rubypython-0.5.1/lib/rubypython/pythonexec.rb の中に Python の検索設定が書いてあった。
53行目から次のようなUnix系の設定がある。</p>

<pre><code class="ruby">    if FFI::Platform.unix?
      # On Unixes, let's look in some standard alternative places, too.
      # Just in case. Some Unixes don't include a .so symlink when they
      # should, so let's look for the base case of .so.1, too.
      [ libname, "#{libname}.1" ].each do |name|
        locations &lt;&lt; File.join("/opt/local/lib", name)
        locations &lt;&lt; File.join("/opt/lib", name)
        locations &lt;&lt; File.join("/usr/local/lib", name)
        locations &lt;&lt; File.join("/usr/lib", name)
      end
    end
</code></pre>

<p>64bitな環境で実行したいので、以下の設定を追加。</p>

<pre><code class="ruby">        locations &lt;&lt; File.join("/opt/local/lib64", name)
        locations &lt;&lt; File.join("/opt/lib64", name)
        locations &lt;&lt; File.join("/usr/local/lib64", name)
        locations &lt;&lt; File.join("/usr/lib64", name)
</code></pre>

<p>これで表示されるようになった。</p>

<h2>記事を書いて公開してみる</h2>

<p>新しい記事を書くには、</p>

<pre><code class="bash">rake new_post["title"]
</code></pre>

<p>source/_posts 以下に記事用のファイルを作ってくれるのでこれを自分の好きなエディタで編集。</p>

<p>最後に</p>

<pre><code class="bash">rake gen_deploy
</code></pre>

<p>とすると、HTMLの生成、公開をしてくれる。</p>

<h2>記事のプレビュー</h2>

<p>デプロイしてから実際に見られるようになるには若干時間がかかるし、誰でも見られる状態になってしまうので、下記コマンドでプレビュー</p>

<pre><code>rake generate
rake preview
</code></pre>

<h2>感想</h2>

<p>慣れない Ruby に少し手こずったけど、自分が普段使っているエディタを使えるのは楽でいいね。
普段は TeX 使いなので、WYSIWYG環境で編集できなくても苦じゃないし。むしろ楽。</p>

<p>はてな記法よりも markdown 記法のほうが自分には馴染みやすい。
改行の扱いとか TeX に近いし。</p>

<p>しばらく使って良かったらこっちに移ってみようかな。</p>
]]></content>
  </entry>
  
</feed>
