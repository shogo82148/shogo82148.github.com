---
layout: post
title: "Perl 5.42 ã‹ã‚‰æ–°ã—ãå…¥ã£ãŸè­¦å‘Šã‚’è©¦ã—ã¦ã¿ã‚‹"
slug: perl-5.42-new-warnings
date: 2025-12-24 23:30:00 +0900
comments: true
categories: [perl]
---

ã“ã®è¨˜äº‹ã¯ã€[Perl Advent Calendar 2025](https://qiita.com/advent-calendar/2025/perl) 24æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ 23æ—¥ç›®ã¯[@shogo82148](https://x.com/shogo82148)ã§ã€Œ[Perlã‚¯ãƒ©ã‚¹ã®ãƒ¬ã‚­ã‚·ã‚«ãƒ«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è©¦ã—ã¦ã¿ã‚‹](https://shogo82148.github.io/blog/2025/12/24/perl-class-lexical-method/)ã€ã§ã—ãŸã€‚

## èƒŒæ™¯

ãƒã‚¿ãŒå°½ãã¦ããŸã®ã§ã€å¼•ãç¶šã[perldelta](https://metacpan.org/release/BOOK/perl-5.42.0/view/pod/perldelta.pod)ã‹ã‚‰é ‘å¼µã£ã¦ãƒã‚¿ã‚’æ¢ã™ã‚·ãƒªãƒ¼ã‚ºã‚’ã‚„ã£ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ã€‚

Perl 5.42 ã§ã¯è­¦å‘Šã«ã‚‚ã„ãã¤ã‹ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã—ãŸã€‚
ãã®ã†ã¡ã‚ˆãå¼•ã£ã‹ã‹ã‚Šãã†ãªã‚‚ã®ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

## å¦å®šæ¼”ç®—å­ã®å„ªå…ˆé †ä½ã«é–¢ã™ã‚‹è­¦å‘Š

ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```perl
use v5.42;
my $x = 5;
my $y = 10;

if (!$x < $y) { # ãƒã‚°ï¼ (!$x) < $y ã‚’è§£é‡ˆã•ã‚Œã‚‹
    print "$x is not less than $y\n";
} else {
    print "$x is less than $y\n";
}
```

å®Ÿè¡Œã™ã‚‹ã¨ã€Œ5 is not less than 10ã€ã¨ã„ã†èª¤ã£ãŸçµæœã‚’è¿”ã—ã¾ã™ï¼š

```plain
Possible precedence problem between ! and numeric lt (<) at ./test.pl line 5.
5 is not less than 10
```

ãªãœã‹ã¨è¨€ã†ã¨ `!$x < $y` ãŒ `(!$x) < $y` ã¨è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚
Perl 5.42ã‹ã‚‰ã¯ã“ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã«å¯¾ã—ã¦è­¦å‘Šã‚’å‡ºã™ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

> Possible precedence problem between ! and numeric lt (<) at ./test.pl line 5.

ã‚‚ã£ã¨ã‚‚ç°¡å˜ãªä¿®æ­£æ–¹æ³•ã¯ã€ã‚«ãƒƒã‚³ã§å„ªå…ˆé †ä½ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚

```perl
use v5.42;
my $x = 5;
my $y = 10;

if (!($x < $y)) {
    print "$x is not less than $y\n";
} else {
    print "$x is less than $y\n";
}
```

ã“ã‚Œã§è­¦å‘Šã‚‚å‡ºãªããªã‚Šã¾ã™ã—ã€æ„å›³ã—ãŸé€šã‚Šã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€‚

ä¸‡ãŒä¸€ `(!$x) < $y` ã¨è§£é‡ˆã•ã‚Œã‚‹ã®ãŒæ­£ã—ã„ï¼ã¨ã„ã†å ´åˆã‚‚ã€ã‚«ãƒƒã‚³ã§å„ªå…ˆé †ä½ã‚’æ˜ç¤ºã™ã‚‹ã“ã¨ã§ã€è­¦å‘Šã‚’ç„¡åŠ¹åŒ–ã§ãã¾ã™ã€‚

```perl
use v5.42;
my $x = 5;
my $y = 10;

if ((!$x) < $y) { ... }
```

ï¼ˆã‚ã‚“ã¾ã‚Šæœ‰ç”¨ãªã‚±ãƒ¼ã‚¹ãŒæ€ã„ã¤ãã¾ã›ã‚“ãŒãƒ»ãƒ»ãƒ»ï¼‰

-----

ç®—è¡“æ¯”è¼ƒæ¼”ç®—å­ (`<`) ä»¥å¤–ã«ã‚‚ä»¥ä¸‹ã®ã‚ˆã†ãªæ¼”ç®—å­ã§è­¦å‘ŠãŒã§ã‚‹ãã†ã§ã™ã€‚

```perl
    !$x < $y               # parsed as: (!$x) < $y
    !$x eq $y              # parsed as: (!$x) eq $y
    !$x =~ /regex/         # parsed as: (!$x) =~ /regex/
    !$obj isa Some::Class  # parsed as: (!$obj) isa Some::Class
```

è¦‹æ…£ã‚Œãªã„è­¦å‘ŠãŒå‡ºã¦ã‚‚æ…Œã¦ãªã„ã‚ˆã†ã€ã—ã£ã‹ã‚Šè¦šãˆã¦ãŠãã¾ã—ã‚‡ã†ã€‚

## voidã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ãŠã‘ã‚‹é€£é–æ¯”è¼ƒ

Perlã«ã¯å…ƒã€…ç„¡æ„å‘³ãªæ–‡ã‚’è­¦å‘Šã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚
ãŸã¨ãˆã°ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ã€`$x` ã ã‘ã®è¡Œã¯ã©ã“ã«ã‚‚ä»£å…¥ã—ã¦ã„ãªã„ã®ã§ç„¡æ„å‘³ã§ã™ã€‚

```perl
use v5.42;

my $x = 5;
$x; # ã©ã“ã«ã‚‚ä»£å…¥ã—ã¦ã„ãªã„ã®ã§ç„¡æ„å‘³
```

å®Ÿè¡Œã—ã¦ã¿ã‚‹ã¨ã€ã“ã®ã‚ˆã†ãªè¡Œã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ã€‚

```plain
Useless use of private variable in void context at ./unused.pl line 4.
```

Perl 5.42ã‹ã‚‰ã¯æ¯”è¼ƒé€£é–ã‚‚è­¦å‘Šã®å¯¾è±¡ã¨ãªã‚Šã¾ã™ã€‚

```perl
use v5.42;

my $x = 5;
1 < $x < 10;
```

å®Ÿè¡Œçµæœ:

```plain
Useless use of comparison chaining in void context at ./unused.pl line 4.
```

## ã¾ã¨ã‚

Perl 5.42ã‹ã‚‰æœ‰åŠ¹ã«ãªã£ãŸè­¦å‘Šã«ã¤ã„ã¦ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚
æ¼”ç®—å­ã®å„ªå…ˆé †ä½ã«é–¢ã™ã‚‹ãƒŸã‚¹ã¨ã€æ¼”ç®—çµæœã‚’ç„¡æ„å‘³ã«æ¨ã¦ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹ãŒè­¦å‘Šã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã«[bscan/PerlNavigator](https://github.com/bscan/PerlNavigator) ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚Œã°ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹é€”ä¸­ã§ã‚‚è­¦å‘Šã—ã¦ãã‚Œã¦ä¾¿åˆ©ã§ã™ã€‚
ã“ã¡ã‚‰ã‚‚ãœã²è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

-----

æ˜æ—¥25æ—¥ã¯[@\_\_papix\_\_](https://x.com/__papix__)ã§ã€ŒYAPC::Fukuoka 2025ãŠç–²ã‚Œæ§˜ã§ã—ãŸã€‚ã€ã§ã™ã€‚

> ğŸ°âœ¨\
> æ–°ã—ã„è­¦å‘Šã®ãŠè©±ã‚’æ·»ãˆã¦\
> Perl 5.42ã®çŸ¥æµã‚’æŸã­ã¦\
> æ‹¬å¼§ã§æ˜ã‚‰ã‹ã«ã™ã‚‹å„ªå…ˆåº¦\
> ãƒã‚°é˜²æ­¢ã®é“ã‚’ç…§ã‚‰ã—ã¦\
> ã‚¦ã‚µã‚®ãŒç¥ã†ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¼ãï¼
>
> by [CodeRabbit](https://www.coderabbit.ai/)

## å‚è€ƒ

- [perldelta - perl-5.42.0](https://metacpan.org/release/BOOK/perl-5.42.0/view/pod/perldelta.pod)
- [2025å¹´ç§‹ã®Perl](https://speakerdeck.com/charsbar/2025nian-qiu-noperl?slide=37)
- [bscan/PerlNavigator](https://github.com/bscan/PerlNavigator)
