<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&family=Noto+Sans+Mono&display=swap" rel="stylesheet"> 

  
  <title>Shogo&#39;s Blog</title>

  
  
  <link rel="stylesheet" href="/css/hugo-octopress.css">

  
  
    <link rel="stylesheet" href="https://shogo82148.github.io/css/syntax.css">
  

  
    <link rel="stylesheet" href="/css/fork-awesome.min.css">
  

  
  <link href="https://shogo82148.github.io/favicon.png" rel="icon">

  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="Shogo&#39;s Blog" />

  <meta name="description" content="" />
  <meta name="keywords" content="">
  <meta name="author" content="ICHINOSE Shogo">

  
  <meta name="generator" content="Hugo 0.91.2" />

  
  
  


<script async src="https://www.googletagmanager.com/gtag/js?id=G-40R0PCLKVF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-40R0PCLKVF');
</script>

  
  
</head>
<body>


<header role="banner">
<hgroup>
  
  <h1><a href="https://shogo82148.github.io/">Shogo&#39;s Blog</a></h1>
  <h2></h2>
</hgroup>
</header>


<nav role="navigation">
<fieldset class="mobile-nav">
  
  <select onchange="location = this.value;">
    <option value="">Navigate…</option>
      
  </select>
</fieldset>


<ul class="main-navigation">
  
  
</ul>

<ul class="subscription">
  
</ul>


  <form action="https://www.google.com/search" method="get" target="_blank">
    <fieldset role="search">
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
      <input type="hidden" name="q" value="site:https://shogo82148.github.io/" />
    </fieldset>
  </form>

</nav>




  

<div id="main">
  <div id="content">
    <div class="blog-index">
      
      
      <article>
        
        

<header>
  <p class="meta">Dec 1, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/12/01/2022-12-01-rubber-duck-debugging/#disqus_thread">Comments</a>

    
    
      - 
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/12/01/2022-12-01-rubber-duck-debugging/">ラバーダックデバッグのすゝめ</a>
  </h1>
</header>

        
          <p>この記事は、フラー株式会社 Advent Calendar 2022 の1日目の記事です。
 さてさて、今年も始まりましたアドベントカレンダー。
ところでそもそもアドベントカレンダーって何だか知ってますか？ エンジニアが日替わりでブログを書くイベント・・・ではありません。 クリスマスまでの日数をカウントダウンする「アドベントカレンダー（物理）」が元ネタです。 カレンダーの日付部分が蓋になっていて、開けるとお菓子やおもちゃなどが出てくる仕掛けになっています。 クリスマスを待ちきれない子供がクリスマスまでの期間を楽しむためのアイテムなのです。
インターネットではお菓子やおもちゃは配れないので、代わりにブログ記事を投稿するようになったのが、 今のアドベントカレンダーの始まりです。
でもやっぱり（物理）欲しくないですか？？？？ というわけで買っちゃいました！
中国からの輸入品です！梱包雑！！箱がボロボロ！！！
ラバーダックデバッグのすゝめ Amazonで開いてトップにあったものをテキトーに ラバーダックとプログラミングには深い関係があるので、ラバーダックのアドベントカレンダーを選びました。 ラバーダックデバッグと言って、 コードを一行ずつアヒルちゃんに説明するというデバッグ手法があります。 相手が無生物であっても、こうやって説明することで頭の中が整理され、バグの発見につながる・・・と言われています。
アドベントカレンダー開封 ラバーダックデバッグの素晴らしさを伝えるため、フラーアドベントカレンダーに参加してくれた人にラバーダックをプレゼントします！ 以下の写真のようにカレンダーの日付部分にアヒルちゃんが入っています。 アドベントカレンダーを担当した日のアヒルちゃんはあなたものです！
さっそく12月1日分のアヒルちゃんはいただきましました。
微妙に剥げた塗装がイカしてます。 僕も今日からプログラミングに詰まったらこの子と相談してみます。
まとめ  プログラミングに詰まったらラバーダックへ相談してみよう 中国の安物には気をつけろ TODO: 来年はもうちょっと良いやつを買う   明日2日は @chooblarinで「CSS Masks活用術」です。お楽しみに！
参考  ラバーダックデバッグ アドベント カレンダー 2022、クリスマス カウントダウン カレンダー アドベント カレンダー 2022 キッズ リトル イエロー ダック、アドベント カレンダー用おもちゃ、クリスマス アドベント カレンダー  </p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Nov 20, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/11/20/2022-11-20-implement-jis-x-4061/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/go/">go </a><a class="label" href="https://shogo82148.github.io/categories/golang/">golang </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/11/20/2022-11-20-implement-jis-x-4061/">50音順(JIS X 4061)をGoで実装してみた</a>
  </h1>
</header>

        
          <p>今後Go言語でも50音順ソートしたくなるのでは、と虫の知らせがあったので作ってみました。
 shogo82148/jisx4061  50音順とは何者か 50音順は「あいうえおかきくけこ・・・」あたりまでなら簡単なので、すごく簡単に思えるじゃないですか。 しかしここに濁音・半濁音・拗音・片仮名・長音記号etc. が入ってくるとだいぶややこしくなります。
濁音を含んだソート たとえば濁点の扱いを見てみましょう。 「さどう」「さとうや」「サトー」「さと」「さど」「さとう」「さとおや」という7つの単語を並べ替えます。 普通にGo標準のソートを使うと以下のようになります。
package main import ( &#34;fmt&#34; &#34;sort&#34; ) func main() { list := []string{ &#34;さどう&#34;, &#34;さとうや&#34;, &#34;サトー&#34;, &#34;さと&#34;, &#34;さど&#34;, &#34;さとう&#34;, &#34;さとおや&#34;, } sort.Strings(list) fmt.Println(list) // Output:  // [さと さとう さとうや さとおや さど さどう サトー] } 一見良さそうですが・・・「さと」と「さど」が遠く離れてしまいました。 このふたつは音が似ているので近くに配置したいです。
jisx4061を使ったソート shogo82148/jisx4061を使うと解決します。
package main import ( &#34;fmt&#34; &#34;github.com/shogo82148/jisx4061&#34; ) func main() { list := []string{ &#34;さどう&#34;, &#34;さとうや&#34;, &#34;サトー&#34;, &#34;さと&#34;, &#34;さど&#34;, &#34;さとう&#34;, &#34;さとおや&#34;, } jisx4061.</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/11/20/2022-11-20-implement-jis-x-4061/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Nov 16, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/11/16/2022-10-19-perl-webdb-vol131/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/github/">github </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/11/16/2022-10-19-perl-webdb-vol131/">GitHub GraphQL のノードIDフォーマットが変わるらしい (続報)</a>
  </h1>
</header>

        
          <p>以前 GitHub GraphQL のノードIDフォーマットが変わるらしい に書いたように、 将来ノードIDフォーマットが変わるらしいらしいです。 これについて、旧式のノードIDを使用した場合に警告がでるようになった、とアナウンスがありました。
 GraphQL Legacy Global ID Deprecation Message  というわけで、どんな警告文がでるのか試してみました。
実際の挙動 試しに僕の名前を取得するクエリを実行してみると、以下のような警告文がでました。
$ gh api graphql -f query='query { node(id: &quot;MDQ6VXNlcjExNTczNDQ=&quot;) { ... on User { id name login } } }' { &quot;data&quot;: { &quot;node&quot;: { &quot;id&quot;: &quot;MDQ6VXNlcjExNTczNDQ=&quot;, &quot;name&quot;: &quot;ICHINOSE Shogo&quot;, &quot;login&quot;: &quot;shogo82148&quot; } }, &quot;extensions&quot;: { &quot;warnings&quot;: [ { &quot;type&quot;: &quot;DEPRECATION&quot;, &quot;message&quot;: &quot;The id MDQ6VXNlcjExNTczNDQ= is deprecated. Update your cache to use the next_global_id from the data payload.</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/11/16/2022-10-19-perl-webdb-vol131/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Oct 19, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/10/19/2022-10-19-perl-webdb-vol131/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/aws/">aws </a><a class="label" href="https://shogo82148.github.io/categories/perl/">perl </a><a class="label" href="https://shogo82148.github.io/categories/aws-lambda/">aws-lambda </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/10/19/2022-10-19-perl-webdb-vol131/">WEB&#43;DB PRESS Vol.131にPerlとAWS Lambdaの記事を寄稿しました</a>
  </h1>
</header>

        
          <p>WEB+DB PRESS Vol.131内の連載「第75回Perl Hackers Hub」に 「AWS Lambda入門……サーバレスでもPerlを活用しよう！」というタイトルで寄稿しました。 発売日は10月22日です。
WEB+DB PRESS Vol.131、どこよりも早い表紙画像です！
Rust入門、はじめてのElixir、実装して学ぶHTTP/3を大特集！10月22日発売です！#wdpress pic.twitter.com/uEIjuPYXu6
&mdash; WEB+DB PRESS編集部 (@wdpress) October 4, 2022  前回寄稿したときがVol.97第43回Perl Hackers Hubなので、約5年ぶり2回目の寄稿です。
 WEB+DB PRESS Vol.97にPerlとRedisの記事を寄稿しました  内容 AWS Lambdaの上でPerlを動かしてみよう！という内容です。 AWS::Lambdaモジュールの簡単なチュートリアルになっています。 今年の4月に提供が開始されたAWS Lambda Function URLsにも対応した内容です。
作るのはもちろん！アクセスカウンター！
AWS Lambdaでできるのは計算だけで、単体では大したことはできません。 AWS Lambdaの便利なところは、他のAWSのサービスと連携できることです。 今回寄稿した記事でもその便利さが伝わるといいなと思い、Paws (Perl SDK for AWS)を使って DynamoDBと連携するところまでを書きました。 やったねたえちゃん！カウンターの値が永続化されるよ！！！
まとめ というわけで、続きは紙面でお楽しみください。
WEB+DB PRESS Vol.131の「第75回Perl Hackers Hub」です。 発売日は10月22日。
参考  WEB+DB PRESS Vol.131 AWS Lambda AWS::Lambdaモジュール AWS Lambda Function URLs の提供開始: 単一機能のマイクロサービス向けの組み込み HTTPS エンドポイント AWS LambdaでCGIを蘇らせる  </p>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Oct 8, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/10/08/2022-10-08-p5-aws-lambda-v0.0.37-is-released/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/aws/">aws </a><a class="label" href="https://shogo82148.github.io/categories/perl/">perl </a><a class="label" href="https://shogo82148.github.io/categories/aws-lambda/">aws-lambda </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/10/08/2022-10-08-p5-aws-lambda-v0.0.37-is-released/">AWS::Lambda v0.0.37リリースのお知らせ</a>
  </h1>
</header>

        
          <p>AWS::Lambda v0.0.37 をリリースしました。
12のリージョンでARM64互換レイヤーを公開 新たに12のリージョンでAWS LambdaのARM64(AWS Graviton2)対応が発表されました。
 AWS Lambda Functions powered by AWS Graviton2 now available in 12 additional regions  今回公開されたのは、以下の12のリージョンです。
 アフリカ (ケープタウン) af-south-1 アジアパシフィック (ソウル) ap-northeast-2 アジアパシフィック (ジャカルタ) ap-southeast-3 アジアパシフィック (香港) ap-east-1 アジアパシフィック (大阪) ap-northeast-3 カナダ(中部) ca-central-1 ヨーロッパ (パリ) eu-west-3 ヨーロッパ (ストックホルム) eu-north-1 ヨーロッパ (ミラノ) eu-south-1 中東 (バーレーン) me-south-1 南米 (サンパウロ) sa-east-1 米国西部(北カリフォルニア) us-west-1  以下の10のリージョンは2021年9月から利用可能だったので、約1年遅れの登場です。 (AWS Graviton2 プロセッサを利用する AWS Lambda 関数を使用して最大 34% 優れた料金/パフォーマンスを実現)
 米国東部 (オハイオ) us-east-2 米国東部(バージニア北部) us-east-1 米国西部 (オレゴン) us-west-2 アジアパシフィック (ムンバイ) ap-south-1 アジアパシフィック (シンガポール) ap-southeast-1 アジアパシフィック (シドニー) ap-southeast-2 アジアパシフィック (東京) ap-northeast-1 欧州(フランクフルト) eu-central-1 ヨーロッパ (アイルランド) eu-west-1 ヨーロッパ (ロンドン) eu-west-2  これを受け、「AWS Lambda Perl Runtime の Arm64 互換レイヤーを公開しました 」 で公開したARM64互換レイヤーも、ARM64対応のリージョンで公開しました。 利用可能なARNは以下の通りです。</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/10/08/2022-10-08-p5-aws-lambda-v0.0.37-is-released/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Sep 20, 2022
     - 2 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/09/20/2022-09-20-aws-sdk-v2-and-googleapi-break-my-code/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/aws/">aws </a><a class="label" href="https://shogo82148.github.io/categories/go/">go </a><a class="label" href="https://shogo82148.github.io/categories/golang/">golang </a><a class="label" href="https://shogo82148.github.io/categories/gcp/">gcp </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/09/20/2022-09-20-aws-sdk-v2-and-googleapi-break-my-code/">AWS SDK v2 for Goが壊れた、Googleお前もか</a>
  </h1>
</header>

        
          <p>何もしていないのに壊れました。（ライブラリのアップデートはした）
AWS SDK v2 for Goが壊れた 該当のプルリクエストはこちら:
 Bump github.com/aws/aws-sdk-go-v2/service/ssm from 1.27.13 to 1.28.0 in /lambda/metadata-updater shogo82148/private-rpm-repo#87  true を *bool 型に変換できないと怒られてしまいました。
./main.go:305:19: cannot use true (untyped bool constant) as *bool value in struct literal どうやらAWS SDK v2のこのコミットの影響でビルドが通らなくなったようです: aws/aws-sdk-go-v2@a13b7a4
diff --git a/service/ssm/api_op_GetParameter.go b/service/ssm/api_op_GetParameter.go index c7617dcfd0e..f58354b6528 100644 --- a/service/ssm/api_op_GetParameter.go +++ b/service/ssm/api_op_GetParameter.go @@ -39,7 +39,7 @@ type GetParameterInput struct {  // Return decrypted values for secure string parameters. This flag is ignored for // String and StringList parameter types.</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/09/20/2022-09-20-aws-sdk-v2-and-googleapi-break-my-code/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Aug 11, 2022
     - 2 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/08/11/2022-08-11-git-push-auto-setup-remote/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/git/">git </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/08/11/2022-08-11-git-push-auto-setup-remote/">git push のときに自動的にリモートブランチを作成する設定</a>
  </h1>
</header>

        
          <p>Git 2.37.0 から git push に --set-upstream origin が要らなくなったという話。 出典はこちらのツイート:
With the newest version of Git 2.37.0, you can run just &quot;git push&quot; to push new branches. No more &quot;--set-upstream origin&quot;. Enable with:
git config --global --add --bool push.autoSetupRemote true pic.twitter.com/1SzIqzvEFR
&mdash; James Ide (@JI) July 12, 2022   ツイッターだけだと忘れてしまうので、検索用のメモ。
Git のデフォルトの設定では、 git push のときに upstream が設定されていないと「--set-upstream origin をつけて再実行してくれ」と 怒られます。 v2.37.0 から、これを自動的に行うオプションが追加されたらしいです。
$ git config --global --add --bool push.autoSetupRemote true 有効化すると自動的にリモートブランチを設定してくれます。</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/08/11/2022-08-11-git-push-auto-setup-remote/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">Jun 11, 2022
     - 1 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/06/11/2022-06-11-wild-iphone-appeared/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/%e4%ba%ba%e7%94%9f%e3%81%ae%e5%82%99%e5%bf%98%e9%8c%b2/">人生の備忘録 </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/06/11/2022-06-11-wild-iphone-appeared/">落とし物の iPhone を交番に届けた話</a>
  </h1>
</header>

        
          <p>タイトルのとおり。 先日落とし物の iPhone を交番に届けました。 「落とし物を拾ったら交番に届けましょうね」と小さい頃からよく言い聞かされるけど、 意外とそういう機会ないよね？？？ということでメモ。
TL;DR  落とし物を拾ったら交番に届けよう (大事) 「拾った場所と時間」を聞かれるので、しっかり覚えておこう 拾った人がもらえる「ここまで来るのにかかった費用」「拾得物の5%から20%のお礼」「落とし主が見つからなかった場合は所有権」を受け取る権利をどうする(放棄するかしないか)を聞かれるので、決めておこう  野生の iPhone が現れた！ 駅の前を通りかかったときに、たまたまスマートフォンらしき物体がが落ちているのを発見。 とりあえず、現場の状況を記録しておこうと、一緒に歩いていた @nnsnodnb 先生に現場写真をとってもらいます。 この手順は意外と重要だったりする(かもしれない)。
拾い上げて確認してみるとどうやら iPhone のようです。
飲み会の帰りで深夜午前2時とかだったので、正直見なかったことにして帰りたいところでしたが、 モノが高価なので一応交番に届けるか・・・ということになりました。
交番での手続き 外から見たら誰もいないように見えましたが、ドアを開けると中から警察官のひとが出てきてくれました。
iPhone を見せ、落とし物を拾ったことを伝えると、「どこで拾いましたか？」 「拾ったのは何時頃ですか？」 と質問を受けました。 このときに、最初に撮った現場写真が役に立ちます。今どきのスマートフォンは写真を撮った位置や時刻を記録してますからね。 (ちゃんと覚えていたので使わなかったけど、ありがとう @nnsnodnb)
その後「手続きに10分ほど時間がかかりますが、よろしいですか？」と聞かれました。 特に断る理由もないので、そのまま手続きを進めます。 手続きに必要なのは、自分(落とし物を拾った人)の 住所 ・ 名前 ・ 電話番号 です。
さらに、落とし物を拾った人の権利についての説明を受けたあと、以下のような質問を受けます。
 「ここまで来るのにかかった費用」「拾得物の5%から20%のお礼」「落とし主が見つからなかった場合は所有権」を受け取る権利はどうするか 所有権を保持した場合でも、 iPhone のような個人情報が入ったものは渡せないが、それでも良いか 落とし主に連絡先を伝えることに同意するか  ひとつめの質問、本当に「どうするか」としか聞かれなかったので「え、どういう選択肢があるんだ？？？」と一瞬その場で考えたんですが、 よく考えるとお礼等を受け取るのはあくまでも「権利」なので、行使 するか 放棄 するか選べるんですね。 純粋に善意で届け出た(ｴﾗｲ)ので「権利は放棄する」「連絡先を伝えることに同意する」ことを伝えました。
以上のやり取りの内容を書面にまとめてくれるので、それに署名すれば手続きは完了です。
iPhone はもらえないという話 手続きの途中で「所有権を保持した場合でも、 iPhone のような個人情報が入ったものは渡せない」と説明を受けました。 書類の控えをあとから見返すと「遺失物法第35条の規定により、法定の期間が経過しても、あなたが受け取ることができない場合があります」とあります。 「遺失物法第35条」の規定は以下の通りです。
 （所有権を取得することができない物件）
第三十五条　次の各号に掲げる物のいずれかに該当する物件については、民法第二百四十条若しくは第二百四十一条の規定又は第三十二条第一項の規定にかかわらず、所有権を取得することができない。</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/06/11/2022-06-11-wild-iphone-appeared/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 27, 2022
     - 2 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/05/27/2022-05-27-configure-rpath-via-ldflags/#disqus_thread">Comments</a>

    
    
      - 
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/05/27/2022-05-27-configure-rpath-via-ldflags/">動的ライブラリの検索パスに、実行バイナリからの相対パスを入れたい</a>
  </h1>
</header>

        
          <p>C や C++ で普通にコンパイルしたバイナリを実行すると、 /lib や /usr/lib といったディレクトリから動的ライブラリを検索して来ます。 この検索パスは LD_LIBRARY_PATH 環境変数や /etc/ld.so.conf 設定ファイルで設定可能です。
しかし、これらの方法ではすべての実行コマンドの設定が上書きされてしまいます。 「自分がコンパイルしたバイナリ」のみ、検索パスをいじりたい。 できれば実行バイナリの相対パスを指定したい。
そんな場面に遭遇したので、備忘録として残しておきます。
背景 以前 Redis をインストールしてセットアップする GitHub Action actions-setup-redis を公開しました。 「Redis くらい Docker でシュッとたちあがるやろ」という話もありますが、 Workflow の中で redis-cli を使いたい場合や、 macOS で実行したい場合 Docker は使えません。 これを解決するために、actions-setup-redis では プラットフォームに合わせてビルド済みのバイナリをダウンロードする、という手法をとっています。
Redis は v6.2.0 から OpenSSL を使った SSL/TLS 通信をサポートしています。 せっかくなので SSL/TLS 通信したいですよね (というかそういう要望がきた)。 そうすると当然 Redis と OpenSSL のリンクが必要です。
別のプロジェクトですが、過去に リンクしていた OpenSSL が OS イメージから削除される という経験をしていたので、 Redis に OpenSSL をバンドルして配布することにしました。
バンドルした OpenSSL と プリインストールされている OpenSSL のバージョンがあっている保証はありません (そもそもそういう場合に備えてバンドルしてる)。 グローバルな設定を書き換えてしまっては、既存の OpenSSL に依存しているコマンドが壊れてしまいます。 でも redis-cli を使うときだけはバンドルした OpenSSL を動的ロードしたい。</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/05/27/2022-05-27-configure-rpath-via-ldflags/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      <article>
        
        

<header>
  <p class="meta">May 16, 2022
     - 2 minute read 
     - <a href="https://shogo82148.github.io/blog/2022/05/16/2022-05-16-perl-extra-paired-delimiters/#disqus_thread">Comments</a>

    
    
      - <a class="label" href="https://shogo82148.github.io/categories/perl/">perl </a>
    
  </p>
  <h1 class="entry-title">
    <a href="https://shogo82148.github.io/blog/2022/05/16/2022-05-16-perl-extra-paired-delimiters/">Perl の extra_paired_delimiters を先取り！</a>
  </h1>
</header>

        
          <p>そういえば Perl 5.36 もうすぐリリースだなー、なんか面白い変更あるかなー、 と perldelta を眺めていたら、あった！！！！
というわけで Perl 5.36 から導入されるらしい extra_paired_delimiters を試してみました。
Paired Delimiters 他の多くの動的言語では、シングルクォーテーション(') やダブルクォーテーション(&quot;)で囲うことで文字列を表します。 これは Perl でも同じです。
use 5.35.11; use utf8; say &#39;Hello World&#39;; say &#34;Hello World&#34;; でもこれだけだとシングルクォーテーションやダブルクォーテーションを含む文字列を表現しようとしたときに、 エスケープが必要になります。 これくらいの短い文字列であれば余裕ですが、あまり長くなると大変です。
use 5.35.11; use utf8; say &#39;\&#39;Hello\&#39; &#34;World&#34;&#39;; say &#34;&#39;Hello&#39; \&#34;World\&#34;&#34;; Perl にはそれを解決するための便利な記法があります。 例えば q(文字列) と書くと '文字列' と書いたのと同じ意味になります。 ( ) 以外にもいくつかペアがあり、以下はすべて同じ意味になります。
use 5.35.11; use utf8; say &#39;Hello World&#39;; say q(Hello World); say q&lt;Hello World&gt;; say q[Hello World]; say q{Hello World}; この記法が便利なのは「カッコの対応をチェックしてくれる」という点です。 例えば  q((Hello) World) という文字列の場合、ナイーブな実装であれば (Hello までが文字列として判定されてしまうでしょう。 しかし Perl は賢いので、 (Hello) の先頭と末尾のカッコが対応していることを認識し、 (Hello) World をひとつの文字列として扱ってくれます。</p>
          
            <footer>
              <a href="https://shogo82148.github.io/blog/2022/05/16/2022-05-16-perl-extra-paired-delimiters/" rel="full-article">Read On &rarr;</a>
            </footer>
          
        
      </article>
      
      
      






<div class="pagination">

    
        
        
        
        <a href="/" aria-label="First" class="label-pagination"><i class="fa fa-angle-double-left fa-lg"></i></a>
    

    
    
        <a href="/" aria-label="Previous" class="label-pagination"><i class="fa fa-angle-left fa-lg"></i></a>
    

    
        <a href="/" class="label-pagination">1</a>
    
        <a href="/page/2/" class="label-pagination">2</a>
    
        <a href="/page/3/" class="label-pagination">3</a>
    
        <a href="/page/4/" class="label-pagination">4</a>
    
        <a href="/page/5/" class="label-pagination">5</a>
    
        <a href="/page/6/" class="label-pagination">6</a>
    
        <a href="/page/7/" class="label-pagination">7</a>
    
        <a href="/page/8/" class="label-pagination">8</a>
    
        <a href="/page/9/" class="label-pagination">9</a>
    
        <a href="/page/10/" class="label-pagination">10</a>
    
        <a href="/page/11/" class="label-pagination">11</a>
    
        <a href="/page/12/" class="label-pagination">12</a>
    
        <a href="/page/13/" class="label-pagination">13</a>
    
        <a href="/page/14/" class="label-pagination">14</a>
    
        <a href="/page/15/" class="label-pagination">15</a>
    
        <a href="/page/16/" class="label-pagination">16</a>
    
        <a href="/page/17/" class="label-pagination">17</a>
    
        <a href="/page/18/" class="label-pagination">18</a>
    
        <a href="/page/19/" class="label-pagination">19</a>
    
        <a href="/page/20/" class="label-pagination">20</a>
    
        <a href="/page/21/" class="label-pagination">21</a>
    
        <a href="/page/22/" class="label-pagination">22</a>
    
        <a href="/page/23/" class="label-pagination">23</a>
    
        <a href="/page/24/" class="label-pagination">24</a>
    
        <a href="/page/25/" class="label-pagination">25</a>
    

    
    
        <a href="/page/3/" aria-label="Next" class="label-pagination"><i class="fa fa-angle-right fa-lg"></i></a>
    

    
    
        <a href="/page/25/" aria-label="Last"><i class="fa fa-angle-double-right fa-lg"></i></a>
    

</div>

  
    </div>
    

<aside class="sidebar thirds">
  <section class="first odd">

    

    <p>
      
    </p>
  </section>



  
  <ul class="sidebar-nav">
    <li class="sidebar-nav-item">
      <a target="_blank" href="https://github.com/shogo82148/" title="https://github.com/shogo82148/"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a target="_blank" href="https://twitter.com/shogo82148/" title="https://twitter.com/shogo82148/"><i class="fa fa-twitter fa-3x"></i></a>
      
         
      
      
      
      
      
      
      
      

    
    
    </li>
  </ul>

  

  

  
  
  
    
      <section class="even">
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
          
          
            
              <li class="post">
                <a href="/blog/2023/06/18/2023-06-18-report-vulnerability-via-github/">GitHub経由で脆弱性報告してみた</a>
              </li>
            
          
            
          
            
              <li class="post">
                <a href="/blog/2023/05/29/2023-05-29-why-you-should-not-use-timestamp-as-id/">なぜタイムスタンプをIDとして扱ってはいけないのか</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/04/23/2023-04-23-akamai-peace-for-all/">RE: Akamai x UNIQLOコラボTシャツに書かれたプログラムを解読してみる</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/03/29/2023-03-29-downgrade-homebrew/">Homebrewで過去のバージョンのMySQLクライアントをインストールしたい</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/03/24/2023-03-24-github-identification-has-changed/">GitHubに接続したらWARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!と怒られる件</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/01/02/2023-01-02-rabbit-plan/">「全人類兎化計画」の特設サイトがサブドメインで展開していてエラい</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2023/01/01/2023-01-01-rmqr-generator-written-in-golang/">GolangでQRコード、マイクロQRコード、rMQRコードのジェネレーターを作った</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2022/12/25/2022-12-25-feature-module-true/">Perlのmodule_trueフラグを先取り！</a>
              </li>
            
          
            
              <li class="post">
                <a href="/blog/2022/12/25/2022-12-25-perl-rand-seed/">Perl v5.38のPERL_RAND_SEED環境変数を先取り！</a>
              </li>
            
          
        </ul>
      </section>
    
  
</aside>
    
  </div>
</div>
<footer role="contentinfo">
  <p>Copyright &copy; 2023 ICHINOSE Shogo - <a
      href="https://shogo82148.github.io/license/">License</a> -
    <span class="credit">Powered by <a target="_blank" href="https://gohugo.io">Hugo</a> and <a target="_blank"
        href="https://github.com/parsiya/hugo-octopress/">Hugo-Octopress</a> theme.
  </p>
</footer>










<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
})
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  let all = MathJax.Hub.getAllJax()
  for(let o of all) {
      o.SourceElement().parentNode.className += ' has-jax'
  }
})
</script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>



<script>
  var _gaq = [['_setAccount', 'UA-4526627-4'], ['_trackPageview']];
  (function (d, t) {
    var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
    g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s)
  }(document, 'script'));
</script>

</body>

</html>
   


